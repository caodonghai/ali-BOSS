<nz-card style="width:100%;height: 100%" [nzBordered]="false" nzTitle="信息反馈">
  <form nz-form [nzLayout]="'inline'">
    <nz-form-item>
      <nz-form-label>标题</nz-form-label>
      <nz-form-control>
        <input [(ngModel)]="title" name="title" nz-input placeholder="请输入标题"/>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item style="margin-left: 40px">
      <nz-form-label>类型</nz-form-label>
      <nz-form-control>
        <nz-select style="width: 170px;" [(ngModel)]="type" name="type" nzAllowClear nzPlaceHolder="Choose">
          <nz-option nzValue="jack" nzLabel="Jack"></nz-option>
          <nz-option nzValue="lucy" nzLabel="Lucy"></nz-option>
          <nz-option nzValue="disabled" nzLabel="Disabled"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item style="margin-left: 40px">
      <nz-form-label>时间</nz-form-label>
      <nz-form-control>
        <nz-range-picker [(ngModel)]="time" [ngModelOptions]="{standalone: true}"></nz-range-picker>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item style="margin-left: 40px">
      <nz-form-control>
        <button nz-button nzType="primary">查询</button>
        <button nz-button nzType="default" type="reset" style="margin-left: 20px">重置</button>
      </nz-form-control>
    </nz-form-item>
  </form>
  <nz-table #basicTable nzBordered [nzData]="list" style="margin-top: 24px" (click)="handleTableClick($event)">
    <thead>
    <tr>
      <th>Name</th>
      <th>Age</th>
      <th>Address</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of basicTable.data">
      <td>{{item.name}}</td>
      <td>{{item.age}}</td>
      <td>{{item.address}}</td>
      <td style="width: 200px;text-align: center">
        <button nz-button nzType="default" nzSize="small" data-method="detail" [attr.data-id]="item.id">详情</button>
        <nz-divider nzType="vertical"></nz-divider>
        <button nz-button nzType="danger" nzSize="small" data-method="delete" [attr.data-id]="item.id">删除</button>
        <nz-divider nzType="vertical"></nz-divider>
        <button nz-button nzType="primary" nzSize="small" data-method="reply" [attr.data-id]="item.id">答复</button>
      </td>
    </tr>
    </tbody>
  </nz-table>
</nz-card>
<!--详情弹出框-->
<nz-modal
  [(nzVisible)]="isDetailModalVisible"
  nzTitle="详情"
  [nzFooter]="null"
  (nzOnCancel)="handleDetailModalCancel()"
>
  <p>Modal Content</p>
</nz-modal>
<!--答复弹出框-->
<nz-modal
  [(nzVisible)]="isReplyModalVisible"
  nzTitle="答复"
  [nzFooter]="null"
  [nzWidth]="600"
  (nzOnCancel)="handleReplyModalCancel()"
>
  <form nz-form [formGroup]="replyForm" (ngSubmit)="submitForm($event, replyForm.value)" [nzLayout]="'inline'">
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>标题</nz-form-label>
      <nz-form-control [nzSpan]="18" nzHasFeedback>
        <input nz-input formControlName="title" placeholder=""/>
        <nz-form-explain
          *ngIf="(replyForm.get('title')?.dirty && replyForm.get('title')?.errors) ||replyForm.get('title')?.pending">
          <ng-container *ngIf="replyForm.get('title')?.hasError('required')">
            Please input your username!
          </ng-container>
        </nz-form-explain>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>标题</nz-form-label>
      <nz-form-control [nzSpan]="18" nzHasFeedback>
        <input nz-input formControlName="title" placeholder=""/>
        <nz-form-explain
          *ngIf="(replyForm.get('title')?.dirty && replyForm.get('title')?.errors) ||replyForm.get('title')?.pending">
          <ng-container *ngIf="replyForm.get('title')?.hasError('required')">
            Please input your username!
          </ng-container>
        </nz-form-explain>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzOffset]="6">
        <button nz-button nzType="primary" [disabled]="!replyForm.valid">保存</button>
        <button nz-button (click)="resetForm($event)">取消</button>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-modal>
